<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRéŠæˆ²ç³»çµ± - ç®¡ç†å“¡æ§åˆ¶å° (ç°¡åŒ–ç‰ˆ)</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Tailwind é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#64748b',
                        success: '#10b981',
                        danger: '#ef4444',
                        warning: '#f59e0b',
                        info: '#06b6d4'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .transition-all-300 {
                transition: all 0.3s ease;
            }
            .sidebar-active {
                background-color: #3b82f6;
                color: white;
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="flex h-screen">
        <!-- å´é‚Šæ¬„ -->
        <aside class="w-64 bg-gray-800 text-white">
            <!-- ç³»çµ±æ¨™é¡Œ -->
            <div class="p-4 border-b border-gray-700">
                <div class="flex items-center space-x-2">
                    <i class="fa fa-qrcode text-primary text-2xl"></i>
                    <h1 class="text-xl font-bold">ç®¡ç†æ§åˆ¶å°</h1>
                </div>
                <div class="text-xs text-yellow-300 mt-1">
                    <i class="fa fa-bolt mr-1"></i>ç°¡åŒ–æ¨¡å¼
                </div>
            </div>
            
            <!-- å°èˆªèœå–® -->
            <nav class="mt-4">
                <ul>
                    <li>
                        <button onclick="showSection('dashboard')" 
                                class="nav-btn w-full text-left sidebar-active flex items-center px-4 py-3 hover:bg-gray-700 transition-all-300">
                            <i class="fa fa-dashboard w-6"></i>
                            <span>æ•¸æ“šæ¦‚è¦½</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('games')" 
                                class="nav-btn w-full text-left flex items-center px-4 py-3 hover:bg-gray-700 transition-all-300">
                            <i class="fa fa-gamepad w-6"></i>
                            <span>éŠæˆ²ç®¡ç†</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('users')" 
                                class="nav-btn w-full text-left flex items-center px-4 py-3 hover:bg-gray-700 transition-all-300">
                            <i class="fa fa-users w-6"></i>
                            <span>ç”¨æˆ¶ç®¡ç†</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('records')" 
                                class="nav-btn w-full text-left flex items-center px-4 py-3 hover:bg-gray-700 transition-all-300">
                            <i class="fa fa-history w-6"></i>
                            <span>è¨˜éŒ„æŸ¥è©¢</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('export')" 
                                class="nav-btn w-full text-left flex items-center px-4 py-3 hover:bg-gray-700 transition-all-300">
                            <i class="fa fa-download w-6"></i>
                            <span>æ•¸æ“šå°å‡º</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('settings')" 
                                class="nav-btn w-full text-left flex items-center px-4 py-3 hover:bg-gray-700 transition-all-300">
                            <i class="fa fa-cog w-6"></i>
                            <span>ç³»çµ±è¨­ç½®</span>
                        </button>
                    </li>
                </ul>
            </nav>
            
            <!-- ç™»å‡ºæŒ‰éˆ• -->
            <div class="absolute bottom-0 w-64 p-4 border-t border-gray-700">
                <button onclick="logout()" class="w-full flex items-center justify-center px-4 py-2 bg-danger text-white rounded-md hover:bg-red-600 transition-all-300">
                    <i class="fa fa-sign-out mr-2"></i> ç™»å‡ºç³»çµ±
                </button>
            </div>
        </aside>
        
        <!-- ä¸»å…§å®¹å€ -->
        <main class="flex-1 overflow-y-auto">
            <!-- é ‚éƒ¨å°èˆª -->
            <header class="bg-white shadow-sm">
                <div class="flex justify-between items-center px-6 py-4">
                    <div>
                        <h2 id="pageTitle" class="text-xl font-semibold text-gray-800">æ•¸æ“šæ¦‚è¦½</h2>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-600">
                            <i class="fa fa-user-circle mr-1"></i> ç®¡ç†å“¡
                        </span>
                    </div>
                </div>
            </header>
            
            <!-- å…§å®¹å€åŸŸ -->
            <div class="p-6">
                <!-- æ•¸æ“šæ¦‚è¦½ -->
                <section id="dashboard-section" class="space-y-6">
                    <!-- çµ±è¨ˆå¡ç‰‡ -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center">
                                <div class="p-3 bg-blue-100 rounded-full">
                                    <i class="fa fa-gamepad text-primary text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-600">å·²è¨­ç½®éŠæˆ²</p>
                                    <p class="text-2xl font-bold text-gray-800">0</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center">
                                <div class="p-3 bg-green-100 rounded-full">
                                    <i class="fa fa-users text-success text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-600">åƒèˆ‡ç”¨æˆ¶</p>
                                    <p class="text-2xl font-bold text-gray-800">0</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center">
                                <div class="p-3 bg-yellow-100 rounded-full">
                                    <i class="fa fa-play-circle text-warning text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-600">ä»Šæ—¥åƒèˆ‡æ¬¡æ•¸</p>
                                    <p class="text-2xl font-bold text-gray-800">0</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center">
                                <div class="p-3 bg-red-100 rounded-full">
                                    <i class="fa fa-gift text-danger text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-600">ç¦®å“ç™¼æ”¾</p>
                                    <p class="text-2xl font-bold text-gray-800">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å¿«é€Ÿæ“ä½œ -->
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">å¿«é€Ÿæ“ä½œ</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                            <button onclick="showSection('games')" class="flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all-300">
                                <i class="fa fa-plus-circle text-primary text-2xl mr-3"></i>
                                <div class="text-left">
                                    <div class="font-medium">æ–°å¢éŠæˆ²</div>
                                    <div class="text-sm text-gray-500">æ·»åŠ æ–°çš„æ”¤ä½éŠæˆ²</div>
                                </div>
                            </button>
                            
                            <button onclick="showSection('users')" class="flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all-300">
                                <i class="fa fa-user-plus text-success text-2xl mr-3"></i>
                                <div class="text-left">
                                    <div class="font-medium">ç®¡ç†ç”¨æˆ¶</div>
                                    <div class="text-sm text-gray-500">æŸ¥çœ‹å’Œç®¡ç†ç”¨æˆ¶</div>
                                </div>
                            </button>
                            
                            <button onclick="showSection('records')" class="flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all-300">
                                <i class="fa fa-search text-warning text-2xl mr-3"></i>
                                <div class="text-left">
                                    <div class="font-medium">æŸ¥è©¢è¨˜éŒ„</div>
                                    <div class="text-sm text-gray-500">æŸ¥çœ‹éŠæˆ²åƒèˆ‡è¨˜éŒ„</div>
                                </div>
                            </button>
                            
                            <button onclick="showSection('export')" class="flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all-300">
                                <i class="fa fa-download text-info text-2xl mr-3"></i>
                                <div class="text-left">
                                    <div class="font-medium">å°å‡ºæ•¸æ“š</div>
                                    <div class="text-sm text-gray-500">å°å‡ºçµ±è¨ˆæ•¸æ“š</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </section>
                
                <!-- éŠæˆ²ç®¡ç† -->
                <section id="games-section" class="space-y-6 hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-semibold text-gray-800">éŠæˆ²ç®¡ç†</h3>
                            <button onclick="alert('æ–°å¢éŠæˆ²åŠŸèƒ½')" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-600 transition-all-300">
                                <i class="fa fa-plus mr-2"></i>æ–°å¢éŠæˆ²
                            </button>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">éŠæˆ²åç¨±</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ”¤ä½è™Ÿç¢¼</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">åƒèˆ‡æ¬¡æ•¸</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç¦®å“æ•¸é‡</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç‹€æ…‹</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td colspan="6" class="px-6 py-4 text-center text-gray-500">
                                            <i class="fa fa-info-circle mr-2"></i>æš«ç„¡éŠæˆ²æ•¸æ“š
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- ç”¨æˆ¶ç®¡ç† -->
                <section id="users-section" class="space-y-6 hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ç”¨æˆ¶ç®¡ç†</h3>
                        <p class="text-gray-600">ç”¨æˆ¶ç®¡ç†åŠŸèƒ½å°‡åœ¨æ­¤é¡¯ç¤ºã€‚</p>
                    </div>
                </section>
                
                <!-- è¨˜éŒ„æŸ¥è©¢ -->
                <section id="records-section" class="space-y-6 hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">è¨˜éŒ„æŸ¥è©¢</h3>
                        <p class="text-gray-600">è¨˜éŒ„æŸ¥è©¢åŠŸèƒ½å°‡åœ¨æ­¤é¡¯ç¤ºã€‚</p>
                    </div>
                </section>
                
                <!-- æ•¸æ“šå°å‡º -->
                <section id="export-section" class="space-y-6 hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">æ•¸æ“šå°å‡º</h3>
                        <p class="text-gray-600">æ•¸æ“šå°å‡ºåŠŸèƒ½å°‡åœ¨æ­¤é¡¯ç¤ºã€‚</p>
                    </div>
                </section>
                
                <!-- ç³»çµ±è¨­ç½® -->
                <section id="settings-section" class="space-y-6 hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ç³»çµ±è¨­ç½®</h3>
                        <p class="text-gray-600">ç³»çµ±è¨­ç½®åŠŸèƒ½å°‡åœ¨æ­¤é¡¯ç¤ºã€‚</p>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
        // å…¨å±€è®Šé‡
        let currentSection = 'dashboard';
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ ç®¡ç†å“¡æ§åˆ¶å°ï¼ˆç°¡åŒ–ç‰ˆï¼‰åˆå§‹åŒ–å®Œæˆï¼');
            
            // æª¢æŸ¥ç™»å…¥ç‹€æ…‹
            const isLoggedIn = sessionStorage.getItem('adminLoggedIn') === 'true';
            if (!isLoggedIn) {
                alert('è«‹å…ˆç™»å…¥ç³»çµ±');
                window.location.href = 'admin.html';
                return;
            }
            
            // åˆå§‹åŒ–é é¢
            showSection('dashboard');
        });
        
        // é¡¯ç¤ºæŒ‡å®šå€åŸŸ
        function showSection(sectionName) {
            console.log(`ğŸ”„ åˆ‡æ›åˆ°é é¢: ${sectionName}`);
            
            // éš±è—æ‰€æœ‰å€åŸŸ
            const sections = ['dashboard', 'games', 'users', 'records', 'export', 'settings'];
            sections.forEach(section => {
                const element = document.getElementById(`${section}-section`);
                if (element) {
                    element.classList.add('hidden');
                }
            });
            
            // é¡¯ç¤ºç›®æ¨™å€åŸŸ
            const targetSection = document.getElementById(`${sectionName}-section`);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                currentSection = sectionName;
            }
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('sidebar-active');
            });
            
            // æ›´æ–°é é¢æ¨™é¡Œ
            const pageTitles = {
                'dashboard': 'æ•¸æ“šæ¦‚è¦½',
                'games': 'éŠæˆ²ç®¡ç†',
                'users': 'ç”¨æˆ¶ç®¡ç†',
                'records': 'è¨˜éŒ„æŸ¥è©¢',
                'export': 'æ•¸æ“šå°å‡º',
                'settings': 'ç³»çµ±è¨­ç½®'
            };
            
            document.getElementById('pageTitle').textContent = pageTitles[sectionName] || 'æ•¸æ“šæ¦‚è¦½';
            
            console.log(`âœ… æˆåŠŸåˆ‡æ›åˆ°: ${pageTitles[sectionName]}`);
        }
        
        // ç™»å‡ºåŠŸèƒ½
        function logout() {
            if (confirm('ç¢ºå®šè¦ç™»å‡ºç³»çµ±å—ï¼Ÿ')) {
                sessionStorage.removeItem('adminLoggedIn');
                sessionStorage.removeItem('loginMode');
                window.location.href = 'admin.html';
            }
        }
        
        // åˆ·æ–°æ•¸æ“š
        function refreshData() {
            console.log('ğŸ”„ åˆ·æ–°æ•¸æ“š...');
            // é€™è£¡å¯ä»¥æ·»åŠ åˆ·æ–°æ•¸æ“šçš„é‚è¼¯
            alert('æ•¸æ“šå·²åˆ·æ–°ï¼');
        }
        
        // å·¥å…·å‡½æ•¸ï¼šé¡¯ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `fixed top-4 right-4 px-4 py-2 rounded-lg shadow-lg z-50 flex items-center ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 
                type === 'warning' ? 'bg-yellow-500' : 'bg-blue-500'
            } text-white`;
            
            toast.innerHTML = `
                <i class="fa fa-${
                    type === 'success' ? 'check-circle' : 
                    type === 'error' ? 'times-circle' : 
                    type === 'warning' ? 'exclamation-triangle' : 'info-circle'
                } mr-2"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 3000);
        }
        
        // é é¢åŠ è¼‰å®Œæˆæç¤º
        window.addEventListener('load', function() {
            console.log('âœ… é é¢åŠ è¼‰å®Œæˆ');
            console.log('ğŸ’¡ æç¤º: æ‰€æœ‰æŒ‰éˆ•ç¾åœ¨éƒ½å¯ä»¥æ­£å¸¸é»æ“Šäº†ï¼');
        });
    </script>
</body>
</html>